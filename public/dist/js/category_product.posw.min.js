/*!
 * Point Of Sales Warung
 * Licensed under GPL (https://github.com/rezafikkri/Point-Of-Sales-Warung/blob/master/LICENSE)
 */
!function(){"use strict";const e=document.querySelector("table.table");e.querySelector("tbody").addEventListener("click",(t=>{let a=t.target;if("remove-category-product"!==a.getAttribute("id")&&(a=a.parentElement),"remove-category-product"!==a.getAttribute("id")&&(a=a.parentElement),"remove-category-product"===a.getAttribute("id")){t.preventDefault();const n=a.dataset.categoryProductId,r=e.dataset.csrfName,s=e.dataset.csrfValue;e.parentElement.nextElementSibling.classList.remove("d-none"),fetch("/admin/hapus_kategori_produk_di_db",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:`${r}=${s}&category_product_id=${n}`}).finally((()=>{e.parentElement.nextElementSibling.classList.add("d-none")})).then((e=>e.json())).then((t=>{if(void 0!==t.csrf_value&&(e.dataset.csrfValue=t.csrf_value),"success"===t.status)a.parentElement.parentElement.remove();else if("fail"===t.status){const e=function(e,t){const a=document.createElement("div");a.classList.add("alert");for(const t of e)a.classList.add(t);return a.innerHTML=`<span class="alert__icon"></span>\n    <p>${t}</p>\n    <a class="alert__close" href="#"></a>`,a}(["alert--warning","mb-3"],t.message);document.querySelector("main.main > div").insertBefore(e,document.querySelector("div.main__box"))}})).catch((e=>{console.error(e)}))}}))}();
